# part 01 
# 1. Search for all read/recv/write/send on a socket and check that, if an error is returned, the client is removed.
# 2. Search for all read/recv/write/send and check if the returned value is correctly checked (checking only -1 or 0 values is not enough, both should be checked).
# 3. Makefile relink
# 4. 

server {
    listen localhost:9000;
    error_page 403 ./error_pages/403.html 405 ./error_pages/405.html 400 ./error_pages/400.html;
    root /Users/zmakhkha/Desktop;
    allow DELETE;
    upload_path /goinfre/zmakhkha/up/;
    location / {
        root /Users/zmakhkha/Desktop/nassi/error_pages;
        index asdfas.htlm cgi_2.htdml 400.html;
        allow GET;
    }
    location /GET {
        root /Users/zmakhkha/Desktop/WebServer/public;
        autoindex ON;
        index index.htlm cgi_2.htdml upload.html;
        allow GET;
    }
    location /GETRE {
        root /Users/zmakhkha/Desktop/WebServer/public;
        autoindex ON;
        redirect 403 http://www.youtube.com;
        index index.htlm cgi_2.htdml upload.html;
        allow GET;
    }
    location /POST {
        root /Users/zmakhkha/goinfre;
        upload_path /goinfre/zmakhkha/up/;
        max_body_size 40M;
        autoindex ON;
        index index.htlm cgi_2.htdml upload.html;
        allow POST GET;
    }
    location /DELETE {
        root /Users/zmakhkha/Desktop/nassi/test/;
        allow DELETE;
    }
    location /CGI {
        root /Users/zmakhkha/Desktop/WebServer/public;
        max_body_size 40M;
        autoindex ON;
        upload_path /goinfre/zmakhkha/up/;
        index index.htlm cgi_2.htdml upload.html;
        cgi php /Users/zmakhkha/Desktop/WebServer/cgi-bin/php-cgi;
        allow GET POST;
    }
}
