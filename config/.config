# part 01 
# 1. Search for all read/recv/write/send on a socket and check that, if an error is returned, the client is removed.
# 2. Search for all read/recv/write/send and check if the returned value is correctly checked (checking only -1 or 0 values is not enough, both should be checked).
# 3. Makefile relink
# 4. 

server { 
    listen localhost:8090;
    error_page 403 ./error_pages/403.html;
    error_page 405 ./error_pages/405.html;
    error_page 400 ./error_pages/400.html;
    root /Users/zmakhkha/Desktop;
    allow DELETE;
    upload_path /goinfre/zmakhkha/up/;
    location / {
        root /Users/zmakhkha/Desktop/nassi/test;
        index asdfas.htlm cgi_2.htdml 400.html;
        allow GET DELETE;
    }
    location /GET {
        root /Users/zmakhkha/Desktop/WebServer/public;
        index index.htlm cgi_2.htdml upload.html;
        allow GET;
    }
    location /GET_INDEX {
        root /Users/zmakhkha/Desktop/nassi/error_pages;
        autoindex ON;
        index 400.htlm cgi_2.htdml upload.html;
        allow GET;
    }
    location /POST {
        root /Users/zmakhkha/Desktop/WebServer/public;
        upload_path /goinfre/zmakhkha/up/;
        max_body_size 40M;
        autoindex ON;
        index index.htlm cgi_2.htdml upload.html;
        cgi php /Users/zmakhkha/Desktop/WebServer/cgi-bin/php-cgi;
        allow POST;
    }
    location /DELETE {
        root /Users/zmakhkha/Desktop/nassi;
        upload_path /goinfre/zmakhkha/up/;
        max_body_size 40M;
        autoindex ON;
        index index.htlm cgi_2.htdml upload.html;
        cgi php /Users/zmakhkha/Desktop/WebServer/cgi-bin/php-cgi;
        allow DELETE;
    }
}
# part 02
# server { 
#     listen localhost:9000;
#     root /Users/zmakhkha/Desktop;
#     allow DELETE;
#     upload_path /goinfre/zmakhkha/up/;
#     location /GET {
#         root /Users/zmakhkha/Desktop/WebServer/public;
#         autoindex ON;
#         index index.htlm cgi_2.htdml upload.html;
#         allow GET;
#     }
#     location /GET_INDEX {
#         root /Users/zmakhkha/Desktop/WebServer/public;
#         index index.htlm cgi_2.htdml upload.html;
#         allow GET;
#     }
#     location /POST {
#         root /Users/zmakhkha/Desktop/WebServer/public;
#         upload_path /goinfre/zmakhkha/up/;
#         max_body_size 40M;
#         autoindex ON;
#         index index.htlm cgi_2.htdml upload.html;
#         cgi php /Users/zmakhkha/Desktop/WebServer/cgi-bin/php-cgi;
#         allow POST;
#     }
#     location /DELETE {
#         root /Users/zmakhkha/Desktop/WebServer/public;
#         upload_path /goinfre/zmakhkha/up/;
#         max_body_size 40M;
#         autoindex ON;
#         index index.htlm cgi_2.htdml upload.html;
#         cgi php /Users/zmakhkha/Desktop/WebServer/cgi-bin/php-cgi;
#         allow DELETE;
#     }
#     location / {
#         root /Users/zmakhkha/Desktop/WebServer/public;
#         upload_path /goinfre/zmakhkha/up/;
#         max_body_size 40M;
#         autoindex ON;
#         index index.htlm cgi_2.htdml upload.html;
#         cgi php /Users/zmakhkha/Desktop/WebServer/cgi-bin/php-cgi;
#         allow GET DELETE POST;
#     }
# }
